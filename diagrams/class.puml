@startuml MIW_Class_Diagram
skinparam classAttributeIconSize 0
skinparam classFontSize 14

title MIW Travel Management System - Class Diagram

class Package {
  -pak_id: int
  -jenis_paket: enum
  -currency: enum
  -program_pilihan: string
  -tanggal_keberangkatan: date
  -base_price_quad: decimal
  -base_price_triple: decimal
  -base_price_double: decimal
  -hotel_medinah: string
  -hotel_makkah: string
  -hcn: string
  +calculatePrice(roomType): decimal
  +getRoomAvailability(): array
  +updateRoomStatus(): void
}

class Jamaah {
  -nik: string
  -nama: string
  -tempat_lahir: string
  -tanggal_lahir: date
  -jenis_kelamin: enum
  -alamat: text
  -email: string
  -no_telp: string
  -payment_status: enum
  -payment_total: decimal
  -payment_remaining: decimal
  +register(): void
  +updatePaymentStatus(): void
  +submitDocuments(): void
  +requestCancellation(): void
}

class Payment {
  -invoice_id: string
  -pak_id: int
  -nik: string
  -payment_type: enum
  -payment_method: string
  -amount: decimal
  -status: enum
  +verify(): void
  +reject(): void
  +generateInvoice(): void
}

class Document {
  -nik: string
  -doc_type: enum
  -status: enum
  -file_path: string
  +upload(): void
  +verify(): void
  +reject(): void
}

class Cancellation {
  -nik: string
  -reason: text
  -status: enum
  -refund_amount: decimal
  +process(): void
  +calculateRefund(): decimal
  +updateStatus(): void
}

class EmailNotification {
  -recipient: string
  -subject: string
  -content: string
  -attachments: array
  +sendRegistrationEmail(): void
  +sendPaymentConfirmation(): void
  +sendCancellationEmail(): void
}

' Relationships
Jamaah "1" -- "1" Package : registers for >
Jamaah "1" -- "*" Payment : makes >
Jamaah "1" -- "*" Document : submits >
Jamaah "1" -- "0..1" Cancellation : requests >
Payment -- EmailNotification : triggers >
Cancellation -- EmailNotification : triggers >

@enduml
